# CSS 选择器权重计算规则

> https://www.bbsmax.com/A/n2d9GlBvJD/

全全的前端浆糊 2015-01-09 [原文](https://www.bbsmax.com/link/bjJkOUdsQnZKRA==)

　　其实，CSS有自己的优先级计算公式，而不仅仅是行间>内部>外部样式；ID>class>元素。

**一、样式类型**

　　**1、行间**DTYTL;

```
<h1 style="font-size:12px;color:#000;">我的行间CSS样式。</h1>
```

　　**2、内联**

```
<style type="text/css">
   h1{font-size:12px;
      color:#000;
      }
</style>
```

　　**3、外部**

```
<link rel="stylesheet" href="css/style.css">
```

**二、选择器类型**

　　***\*1、ID　　#id\****

　　***\**\*\*\*2、class　　.class\*\*\*\*\****

　　***\**\*\*\*\*\*\*\*\*\*\*\*3、标签　　p\*\*\*\*\*\*\*\*\*\*\*\*\****

　　***\**\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*4、通用　　\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\****

　　***\**\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*5、属性　　[type="text"]\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\****

　　***\**\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*6、伪类　　：hover\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\****

　　***\**\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*7、伪元素　　::first-line\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\****

　　***\**\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*8、子选择器、相邻选择器\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\****

**三、权重计算规则**

1. **第一等：代表内联样式，如: style=””，权值为1000。**
2. **第二等：代表ID选择器，如：#content，权值为0100。**
3. **第三等：代表类，伪类和属性选择器，如.content，权值为0010。**
4. **第四等：代表类型选择器和伪元素选择器，如div p，权值为0001。**
5. **通配符、子选择器、相邻选择器等的。如\*、>、+,权值为0000。**
6. **继承的样式没有权值。**

**四、比较规则**

1. **1,0,0,0 > 0,99,99,99。也就是说从左往右逐个等级比较，前一等级相等才往后比。**
2. **无论是行间、内部和外部样式，都是按照这个规则来进行比较。而不是直观的行间>内部>外部样式；ID>class>元素。之所以有这样的错觉，是因为确实行间为第一等的权重，所以它的权重是最高的。而内部样式可能一般写在了外部样式引用了之后，所以覆盖掉了之前的。**
3. **在权重相同的情况下，后面的样式会覆盖掉前面的样式。**
4. **通配符、子选择器、相邻选择器等的。虽然权值为0000，但是也比继承的样式优先。**

**五、！important**

1. !important 的作用是提升优先级，换句话说。加了这句的样式的优先级是最高的（比内联样式的优先级还高)。

   

   ```
   <style>
       p{
           color:red !important;
       }
   </style>
   <p style="color:blue;">我显示红色</p>　　  
   ```

2. ie7+和别的浏览器对important的这种作用的支持度都很好。只有ie6有些bug

   ```
   p{
     color:red !important;
     color:blue;
   }//会显示blue
   ```

   但是这并不说明ie6不支持important，只是支持上有些bug。看下面

   ```
   p{
     color:red !important;
   }
   p{
     color:blue;
   }
   //这样就会显示的是red。说明ie6还是支持important的。
   ```

**六、实例**

1. ```
    a{color: yellow;} /*特殊性值：0,0,0,1*/
    div a{color: green;} /*特殊性值：0,0,0,2*/
   .demo a{color: black;} /*特殊性值：0,0,1,1*/
    .demo input[type="text"]{color: blue;} /*特殊性值：0,0,2,1*/
    .demo *[type="text"]{color: grey;} /*特殊性值：0,0,2,0*/
    #demo a{color: orange;} /*特殊性值：0,1,0,1*/
    div#demo a{color: red;} /*特殊性值：0,1,0,2*/ <a href="">第一条应该是黄色</a> <!--适用第1行规则-->
   <div class="demo">
       <input type="text" value="第二条应该是蓝色" /><!--适用第4、5行规则，第4行优先级高-->
       <a href="">第三条应该是黑色</a><!--适用第2、3行规则，第3行优先级高-->
   </div>
   <div id="demo">
       <a href="">第四条应该是红色</a><!--适用第5、6行规则，第6行优先级高-->
   </div>
   ```

本文是一个学习笔记。有什么不对的地方，希望大家指出。